{"ast":null,"code":"var _jsxFileName = \"/Volumes/countstarss/Skill Stack/React/ReactLearn/usePopcorn/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport { Children, useEffect, useRef, useState } from \"react\";\nimport StartRating from \"./StartRating.js\";\n// import tempMovieData from \"./components/movieData.js\"\n// OMDb API: http://www.omdbapi.com/?i=tt3896198&apikey=626f89cc\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst average = arr => arr.reduce((acc, cur, i, arr) => acc + cur / arr.length, 0);\n\n//=========  App  ==========\nconst KEY = `626f89cc`;\nexport default function App() {\n  _s();\n  const [movies, setMovies] = useState([]);\n  // const [watched, setWatched] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [query, setQuery] = useState(\"\");\n  const [selectedId, setSelectedId] = useState(null);\n\n  //加载本地存储的 watched\n  //方法是将watched的初始值换成一个回调函数,回调函数最后返回一个字符串\n  //因为添加本地存储的effct和handleAddWatched分开了,所以每次存储的watched都是最新的,直接通过getItem()获取watched\n  const [watched, setWatched] = useState(function () {\n    const storedValue = localStorage.getItem('watched');\n    return JSON.parse(storedValue);\n  });\n  function handleSelectMovie(id) {\n    setSelectedId(selectedId => id === selectedId ? null : id);\n  }\n  function handleCloseMovie(id) {\n    setSelectedId(null);\n  }\n  function handleAddWatch(movie) {\n    setWatched(watched => [...watched, movie]);\n  }\n  function handleDeleteWatched(id) {\n    //除了id相同的那个,其他的全部过滤一下,相当于删除掉了一个\n    setWatched(watched => watched.filter(movie => movie.imdbID !== id));\n  }\n  // 新内容\n  // 添加本地存储\n  useEffect(function () {\n    // 添加本地存储\n    localStorage.setItem('watched', JSON.stringify(watched));\n  }, [watched]);\n  useEffect(function () {\n    const controller = new AbortController();\n    async function fetchMovies() {\n      //fetching data\n      try {\n        setIsLoading(true);\n        setError('');\n        const res = await fetch(`http://www.omdbapi.com/?apikey=${KEY}&s=${query}`, {\n          single: controller.single\n        });\n        if (!res.ok) throw new Error(\"Something went wrong with fetching data\");\n        const data = await res.json();\n        if (data.Response === 'False') throw new Error(\"Movie not found\");\n        setMovies(data.Search);\n        setError(\"\");\n      } catch (err) {\n        if (err.name !== \"AbortError\") {\n          console.error(err.message);\n          setError(err.message);\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    if (query.length < 3) {\n      setMovies([]);\n      setError('');\n      //如果是这样的情况,直接返回,不调用fetch函数\n      return;\n    }\n    handleCloseMovie();\n    fetchMovies();\n    return function () {\n      // 当再次键入时,停止当前的fetch\n      controller.abort();\n    };\n    // }, [query]);\n  }, []);\n\n  // ==============\n\n  function getMovieList() {\n    const controller = new AbortController();\n    async function fetchMovies() {\n      //fetching data\n      try {\n        setIsLoading(true);\n        setError('');\n        const res = await fetch(`http://www.omdbapi.com/?apikey=${KEY}&s=${query}`, {\n          single: controller.single\n        });\n        if (!res.ok) throw new Error(\"Something went wrong with fetching data\");\n        const data = await res.json();\n        if (data.Response === 'False') throw new Error(\"Movie not found\");\n        setMovies(data.Search);\n        setError(\"\");\n      } catch (err) {\n        if (err.name !== \"AbortError\") {\n          console.error(err.message);\n          setError(err.message);\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    if (query.length < 3) {\n      setMovies([]);\n      setError('');\n      //如果是这样的情况,直接返回,不调用fetch函数\n      return;\n    }\n    handleCloseMovie();\n    fetchMovies();\n    return function () {\n      // 当再次键入时,停止当前的fetch\n      controller.abort();\n    };\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {\n      children: [/*#__PURE__*/_jsxDEV(Search, {\n        query: query,\n        setQuery: setQuery,\n        getMovieList: getMovieList,\n        querys: query\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NumResults, {\n        movies: movies\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Main, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        children: [isLoading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 25\n        }, this), !isLoading && !error && /*#__PURE__*/_jsxDEV(MoviesList, {\n          movies: movies,\n          onSelectMovie: handleSelectMovie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 36\n        }, this), error && /*#__PURE__*/_jsxDEV(Error, {\n          message: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: selectedId ? /*#__PURE__*/_jsxDEV(MovieDetails, {\n          selectedId: selectedId,\n          onCloseMovie: handleCloseMovie,\n          onAddWatched: handleAddWatch,\n          watched: watched\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(WatchedSummary, {\n            watched: watched\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(WatchedMoviesList, {\n            watched: watched,\n            onDeleteWatched: handleDeleteWatched\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n//=========  App  ==========\n_s(App, \"QPipfO+spv2rV6DFWwpuRAUoH5A=\");\n_c = App;\nfunction Loader() {\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"loader\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 10\n  }, this);\n}\n_c2 = Loader;\nfunction Error({\n  message\n}) {\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"error\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"\\u26D4\\uFE0F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 31\n    }, this), message]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 10\n  }, this);\n}\n\n// =========  NavBar  =======\n_c3 = Error;\nfunction NavBar({\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"nav-bar\",\n    children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 5\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 10\n  }, this);\n}\n_c4 = NavBar;\nfunction Search({\n  query,\n  setQuery,\n  getMovieList,\n  querys\n}) {\n  _s2();\n  const inputEl = useRef(null);\n  useEffect(function () {\n    // console.log(inputEl.current);\n    inputEl.current.focus();\n  }, []);\n  useEffect(function () {\n    const callback = e => {\n      // if(document.activeElement === inputEl.current)\n      // return;\n\n      if (e.code === \"Enter\") {\n        inputEl.current.focus();\n        getMovieList(querys);\n        setQuery(\"\");\n        console.log(\"Enter\");\n      }\n    };\n    document.addEventListener(\"keydown\", callback);\n  }, [setQuery]);\n  return /*#__PURE__*/_jsxDEV(\"input\", {\n    className: \"search\",\n    type: \"text\",\n    placeholder: \"Search movies...\",\n    value: query,\n    onChange: e => setQuery(e.target.value),\n    ref: inputEl\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 5\n  }, this);\n}\n_s2(Search, \"VdPyAt9yWSt5QCcb4IeIKKMONNI=\");\n_c5 = Search;\nfunction Logo() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"logo\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      role: \"img\",\n      children: \"\\uD83C\\uDF7F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"usePopcorn\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 5\n  }, this);\n}\n_c6 = Logo;\nfunction NumResults({\n  movies\n}) {\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"num-results\",\n    children: [\"Found \", /*#__PURE__*/_jsxDEV(\"strong\", {\n      children: movies.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }, this), \" results\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 248,\n    columnNumber: 5\n  }, this);\n}\n\n// ===========  NavBar  ==========\n\n// ===========  Main  ==========\n_c7 = NumResults;\nfunction Main({\n  children\n}) {\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"main\",\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 260,\n    columnNumber: 5\n  }, this);\n}\n_c8 = Main;\nfunction Box({\n  children\n}) {\n  _s3();\n  const [isOpen, setIsOpen] = useState(true);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"box\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn-toggle\",\n      onClick: () => setIsOpen(open => !open),\n      children: isOpen ? \"–\" : \"+\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), isOpen && children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 269,\n    columnNumber: 5\n  }, this);\n}\n\n// function\n_s3(Box, \"mEi83NlPXQzy/XIDfTYWzOSvaHw=\");\n_c9 = Box;\nfunction MoviesList({\n  movies,\n  onSelectMovie\n}) {\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"list list-movies\",\n    children: movies === null || movies === void 0 ? void 0 : movies.map(movie => /*#__PURE__*/_jsxDEV(Movie, {\n      movie: movie,\n      onSelectMovie: onSelectMovie\n    }, movie.imdbID, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 5\n  }, this);\n}\n_c10 = MoviesList;\nfunction Movie({\n  movie,\n  onSelectMovie,\n  onCloseMovie\n}) {\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    onClick: () => onSelectMovie(movie.imdbID),\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: movie.Poster,\n      alt: `${movie.Title} poster`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: movie.Title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83D\\uDDD3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: movie.Year\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 296,\n    columnNumber: 5\n  }, this);\n}\n_c11 = Movie;\nfunction MovieDetails({\n  selectedId,\n  onCloseMovie,\n  onAddWatched,\n  watched\n}) {\n  _s4();\n  var _watched$find;\n  const [movie, setMovie] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [userRating, setUserRating] = useState(null);\n  const isWatched = watched.map(movie => movie.imdbID).includes(selectedId);\n  const watchedMovieRate = (_watched$find = watched.find(movie => movie.imdbID === selectedId)) === null || _watched$find === void 0 ? void 0 : _watched$find.userRating;\n  console.log(`看过: ${isWatched}`);\n  // console.log(haveID);\n\n  const {\n    Title: title,\n    Year: year,\n    Poster: poster,\n    Runtime: runtime,\n    Actors: actors,\n    Director: director,\n    Genre: genre,\n    Released: released,\n    imdbRating: imdbRating,\n    Plot: plot\n  } = movie;\n  // console.log(title, year, actors, String(imdbRating));\n\n  const [avgRating, setAvgRating] = useState(0);\n  function handleAdd() {\n    const newWatchedMovie = {\n      imdbID: selectedId,\n      title,\n      year,\n      poster,\n      imdbRating: Number(imdbRating),\n      runtime: Number(runtime.split(\" \").at(0)),\n      userRating\n    };\n    onAddWatched(newWatchedMovie);\n    onCloseMovie();\n\n    // setAvgRating(Number(imdbRating));\n    // setAvgRating((avgRating)=>(avgRating + userRating) / 2);\n  }\n\n  // 检测按键\n  useEffect(function () {\n    const Escape = e => {\n      if (e.code === 'Escape') {\n        onCloseMovie();\n        console.log('console');\n      }\n    };\n    document.addEventListener('keydown', Escape);\n    // function cleanUp\n    return function () {\n      document.removeEventListener('keydown', Escape);\n    };\n  }, [onCloseMovie]);\n\n  // 搜索输入框中的内容\n  useEffect(function () {\n    async function getMovieDetails() {\n      setIsLoading(true);\n      const res = await fetch(`https://www.omdbapi.com/?apikey=${KEY}&i=${selectedId}`);\n      const data = await res.json();\n      console.log(data);\n      setMovie(data);\n      setIsLoading(false);\n    }\n    ;\n    getMovieDetails();\n  }, [selectedId]);\n\n  // 将标题改成电影名字\n  useEffect(function () {\n    if (!title) return;\n    document.title = `Movie | ${title}`;\n    return function () {\n      document.title = \"usePopcorn\";\n    };\n  }, [title]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"details\",\n      children: isLoading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 22\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"header\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-back\",\n            onClick: () => onCloseMovie(),\n            children: \"\\u2190\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: poster,\n            alt: `Poster of ${movie} movie`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-overview\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [released, \" \\u2022 \", runtime]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: genre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83C\\uDF1F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 19\n              }, this), imdbRating, \"  IMDB rating\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"rating\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rating\",\n            children: !isWatched ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(StartRating, {\n                maxRating: 10,\n                size: 30,\n                onSetRating: setUserRating\n              }, selectedId, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 23\n              }, this), userRating && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-add\",\n                onClick: handleAdd,\n                children: \"Add to watched list\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"you have watched this movie\\uD83E\\uDD73,\", watchedMovieRate ? `your rate is ${watchedMovieRate}` : \"you have not rating yet👈🏼\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"em\", {\n              children: plot\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Starring \", actors]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Directed by \", director]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s4(MovieDetails, \"Rlt6y+Fx5RxlOKuMYZ/konmlY2Y=\");\n_c12 = MovieDetails;\nfunction WatchedBox({\n  children\n}) {\n  _s5();\n  const [isOpen2, setIsOpen2] = useState(true);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"box\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn-toggle\",\n      onClick: () => setIsOpen2(open => !open),\n      children: isOpen2 ? \"–\" : \"+\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 7\n    }, this), isOpen2 && children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 463,\n    columnNumber: 5\n  }, this);\n}\n_s5(WatchedBox, \"AbWLibMy5nZW4ldEDP8bhwv5wVA=\");\n_c13 = WatchedBox;\nfunction WatchedSummary({\n  watched\n}) {\n  const avgImdbRating = average(watched.map(movie => movie.imdbRating.value));\n  const avgUserRating = average(watched.map(movie => movie.userRating));\n  const avgRuntime = average(watched.map(movie => movie.runtime));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"summary\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Movies you watched\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"#\\uFE0F\\u20E3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [watched.length, \" movies\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u2B50\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: avgImdbRating.toFixed(2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83C\\uDF1F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: avgUserRating.toFixed(2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u23F3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [avgRuntime.toFixed(2), \" min\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 481,\n    columnNumber: 5\n  }, this);\n}\n_c14 = WatchedSummary;\nfunction WatchedMoviesList({\n  watched,\n  onDeleteWatched\n}) {\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: \"list\",\n    children: watched.map(movie => /*#__PURE__*/_jsxDEV(WatchedMovie, {\n      movie: movie,\n      onDeleteWatched: onDeleteWatched\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 507,\n    columnNumber: 5\n  }, this);\n}\n_c15 = WatchedMoviesList;\nfunction WatchedMovie({\n  movie,\n  onDeleteWatched\n}) {\n  // console.log(Number(movie.imdbRating));\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: movie.poster,\n      alt: `${movie.title} poster`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: movie.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u2B50\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: movie.imdbRating\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\uD83C\\uDF1F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: movie.userRating\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u23F3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [movie.runtime, \" min\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 533,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-delete\",\n        onClick: () => onDeleteWatched(movie.imdbID),\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 7\n    }, this)]\n  }, movie.imdbID, true, {\n    fileName: _jsxFileName,\n    lineNumber: 521,\n    columnNumber: 5\n  }, this);\n}\n_c16 = WatchedMovie;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Loader\");\n$RefreshReg$(_c3, \"Error\");\n$RefreshReg$(_c4, \"NavBar\");\n$RefreshReg$(_c5, \"Search\");\n$RefreshReg$(_c6, \"Logo\");\n$RefreshReg$(_c7, \"NumResults\");\n$RefreshReg$(_c8, \"Main\");\n$RefreshReg$(_c9, \"Box\");\n$RefreshReg$(_c10, \"MoviesList\");\n$RefreshReg$(_c11, \"Movie\");\n$RefreshReg$(_c12, \"MovieDetails\");\n$RefreshReg$(_c13, \"WatchedBox\");\n$RefreshReg$(_c14, \"WatchedSummary\");\n$RefreshReg$(_c15, \"WatchedMoviesList\");\n$RefreshReg$(_c16, \"WatchedMovie\");","map":{"version":3,"names":["Children","useEffect","useRef","useState","StartRating","jsxDEV","_jsxDEV","Fragment","_Fragment","average","arr","reduce","acc","cur","i","length","KEY","App","_s","movies","setMovies","isLoading","setIsLoading","error","setError","query","setQuery","selectedId","setSelectedId","watched","setWatched","storedValue","localStorage","getItem","JSON","parse","handleSelectMovie","id","handleCloseMovie","handleAddWatch","movie","handleDeleteWatched","filter","imdbID","setItem","stringify","controller","AbortController","fetchMovies","res","fetch","single","ok","Error","data","json","Response","Search","err","name","console","message","abort","getMovieList","children","NavBar","querys","fileName","_jsxFileName","lineNumber","columnNumber","NumResults","Main","Box","Loader","MoviesList","onSelectMovie","MovieDetails","onCloseMovie","onAddWatched","WatchedSummary","WatchedMoviesList","onDeleteWatched","_c","className","_c2","_c3","Logo","_c4","_s2","inputEl","current","focus","callback","e","code","log","document","addEventListener","type","placeholder","value","onChange","target","ref","_c5","role","_c6","_c7","_c8","_s3","isOpen","setIsOpen","onClick","open","_c9","map","Movie","_c10","src","Poster","alt","Title","Year","_c11","_s4","_watched$find","setMovie","userRating","setUserRating","isWatched","includes","watchedMovieRate","find","title","year","poster","Runtime","runtime","Actors","actors","Director","director","Genre","genre","Released","released","imdbRating","Plot","plot","avgRating","setAvgRating","handleAdd","newWatchedMovie","Number","split","at","Escape","removeEventListener","getMovieDetails","maxRating","size","onSetRating","_c12","WatchedBox","_s5","isOpen2","setIsOpen2","_c13","avgImdbRating","avgUserRating","avgRuntime","toFixed","_c14","WatchedMovie","_c15","_c16","$RefreshReg$"],"sources":["/Volumes/countstarss/Skill Stack/React/ReactLearn/usePopcorn/src/App.js"],"sourcesContent":["import { Children, useEffect, useRef, useState } from \"react\";\nimport StartRating from \"./StartRating.js\"\n// import tempMovieData from \"./components/movieData.js\"\n// OMDb API: http://www.omdbapi.com/?i=tt3896198&apikey=626f89cc\n\n\nconst average = (arr) =>\n  arr.reduce((acc, cur, i, arr) => acc + cur / arr.length, 0);\n\n//=========  App  ==========\nconst KEY = `626f89cc`;\n\nexport default function App() {\n  const [movies, setMovies] = useState([]);\n  // const [watched, setWatched] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [query, setQuery] = useState(\"\");\n  const [selectedId, setSelectedId] = useState(null);\n\n  //加载本地存储的 watched\n  //方法是将watched的初始值换成一个回调函数,回调函数最后返回一个字符串\n  //因为添加本地存储的effct和handleAddWatched分开了,所以每次存储的watched都是最新的,直接通过getItem()获取watched\n  const [watched, setWatched] = useState(function(){\n    const storedValue = localStorage.getItem('watched');\n    return JSON.parse(storedValue);\n  });\n\n\n  function handleSelectMovie(id) {\n    setSelectedId((selectedId) => (id === selectedId ? null : id));\n  }\n\n  function handleCloseMovie(id) {\n    setSelectedId(null);\n  }\n\n  function handleAddWatch(movie) {\n    setWatched((watched) => [...watched, movie]);\n  }\n\n  function handleDeleteWatched(id){\n    //除了id相同的那个,其他的全部过滤一下,相当于删除掉了一个\n    setWatched(watched=>watched.filter(movie=>movie.imdbID !== id));\n  }\n  // 新内容\n  // 添加本地存储\n  useEffect(function(){\n    // 添加本地存储\n    localStorage.setItem('watched',JSON.stringify(watched))\n  },[watched])\n\n\n\n  useEffect(function () {\n\n    const controller = new AbortController();\n\n    async function fetchMovies() {\n      //fetching data\n      try {\n        setIsLoading(true);\n        setError('');\n        const res = await fetch(`http://www.omdbapi.com/?apikey=${KEY}&s=${query}`,{single:controller.single})\n\n        if (!res.ok) throw new Error(\"Something went wrong with fetching data\")\n\n        const data = await res.json()\n        if (data.Response === 'False') throw new Error(\"Movie not found\");\n\n        setMovies(data.Search)\n        setError(\"\");\n      } catch (err) {\n        \n        if(err.name !== \"AbortError\"){ \n          console.error(err.message);\n          setError(err.message);\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    if (query.length < 3) {\n      setMovies([]);\n      setError('');\n      //如果是这样的情况,直接返回,不调用fetch函数\n      return;\n    }\n    handleCloseMovie();\n    fetchMovies();\n\n    return function(){\n      // 当再次键入时,停止当前的fetch\n      controller.abort();\n    }\n  // }, [query]);\n  }, []);\n\n  // ==============\n\n  function getMovieList() {\n\n    const controller = new AbortController();\n\n    async function fetchMovies() {\n      //fetching data\n      try {\n        setIsLoading(true);\n        setError('');\n        const res = await fetch(`http://www.omdbapi.com/?apikey=${KEY}&s=${query}`,{single:controller.single})\n\n        if (!res.ok) throw new Error(\"Something went wrong with fetching data\")\n\n        const data = await res.json()\n        if (data.Response === 'False') throw new Error(\"Movie not found\");\n\n        setMovies(data.Search)\n        setError(\"\");\n      } catch (err) {\n        \n        if(err.name !== \"AbortError\"){ \n          console.error(err.message);\n          setError(err.message);\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    if (query.length < 3) {\n      setMovies([]);\n      setError('');\n      //如果是这样的情况,直接返回,不调用fetch函数\n      return;\n    }\n    handleCloseMovie();\n    fetchMovies();\n\n    return function(){\n      // 当再次键入时,停止当前的fetch\n      controller.abort();\n    }\n  }\n\n\n  return (\n    <>\n      <NavBar>\n        <Search query={query} setQuery={setQuery} getMovieList={getMovieList} querys={query}/>\n        <NumResults movies={movies} />\n      </NavBar>\n      <Main>\n        <Box>\n          {isLoading && <Loader />}\n          {!isLoading && !error && <MoviesList movies={movies} onSelectMovie={handleSelectMovie} />}\n          {error && <Error message={error} />}\n\n        </Box>\n        <Box>\n          {selectedId ? (\n            <MovieDetails\n              selectedId={selectedId}\n              onCloseMovie={handleCloseMovie}\n              onAddWatched={handleAddWatch}\n              watched={watched}\n            />\n          ) : (\n            <>\n              <WatchedSummary watched={watched} />\n              <WatchedMoviesList \n                watched={watched}\n                onDeleteWatched = {handleDeleteWatched}  \n              />\n            </>\n          )}\n        </Box>\n      </Main>\n    </>\n  );\n}\n\n//=========  App  ==========\n\nfunction Loader() {\n  return <p className=\"loader\">Loading...</p>\n}\n\nfunction Error({ message }) {\n  return <p className=\"error\"><span>⛔️</span>{message}</p>\n}\n\n// =========  NavBar  =======\nfunction NavBar({ children }) {\n\n  return <nav className=\"nav-bar\">\n    <Logo />\n    {children}\n  </nav>\n}\n\nfunction Search({ query, setQuery,getMovieList,querys }) {\n\n  const inputEl =  useRef(null)\n\n  useEffect(function(){\n    // console.log(inputEl.current);\n    inputEl.current.focus()\n  },[])\n\n  useEffect(function(){\n    const callback = (e) => {\n\n      // if(document.activeElement === inputEl.current)\n        // return;\n\n      if (e.code === \"Enter\"){\n        inputEl.current.focus();\n        getMovieList(querys);\n        setQuery(\"\");\n        console.log(\"Enter\");\n      }\n    }\n    document.addEventListener(\"keydown\",callback)\n  },[setQuery])\n\n  return (\n    <input\n      className=\"search\"\n      type=\"text\"\n      placeholder=\"Search movies...\"\n      value={query}\n      onChange={(e) => setQuery(e.target.value)}\n      ref={inputEl}\n    />\n  )\n}\n\nfunction Logo() {\n  return (\n    <div className=\"logo\">\n      <span role=\"img\">🍿</span>\n      <h1>usePopcorn</h1>\n    </div>\n  )\n}\n\nfunction NumResults({ movies }) {\n  return (\n    <p className=\"num-results\">\n      Found <strong>{movies.length}</strong> results\n      {/* Found <strong>X</strong> results */}\n    </p>\n  )\n}\n\n// ===========  NavBar  ==========\n\n// ===========  Main  ==========\nfunction Main({ children }) {\n  return (\n    <main className=\"main\">{children}</main>\n  )\n}\n\nfunction Box({ children }) {\n\n  const [isOpen, setIsOpen] = useState(true);\n\n  return (\n    <div className=\"box\">\n      <button\n        className=\"btn-toggle\"\n        onClick={() => setIsOpen((open) => !open)}\n      >\n        {isOpen ? \"–\" : \"+\"}\n      </button>\n      {isOpen && (children)}\n    </div>\n  )\n}\n\n// function\n\nfunction MoviesList({ movies, onSelectMovie }) {\n\n  return (\n    <ul className=\"list list-movies\">\n      {movies?.map((movie) => (\n        <Movie movie={movie} key={movie.imdbID} onSelectMovie={onSelectMovie} />\n      ))}\n    </ul>\n  )\n}\n\nfunction Movie({ movie, onSelectMovie, onCloseMovie }) {\n  return (\n    <li onClick={() => onSelectMovie(movie.imdbID)}>\n      <img src={movie.Poster} alt={`${movie.Title} poster`} />\n      <h3>{movie.Title}</h3>\n      <div>\n        <p>\n          <span>🗓</span>\n          <span>{movie.Year}</span>\n        </p>\n      </div>\n    </li>\n  )\n}\n\nfunction MovieDetails({ selectedId, onCloseMovie, onAddWatched, watched }) {\n  const [movie, setMovie] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [userRating, setUserRating] = useState(null);\n\n  const isWatched = watched.map(movie => movie.imdbID).includes(selectedId)\n  const watchedMovieRate = watched.find((movie) => movie.imdbID === selectedId)?.userRating\n  console.log(`看过: ${isWatched}`);\n  // console.log(haveID);\n\n  const {\n    Title: title,\n    Year: year,\n    Poster: poster,\n    Runtime: runtime,\n    Actors: actors,\n    Director: director,\n    Genre: genre,\n    Released: released,\n    imdbRating: imdbRating,\n    Plot: plot\n  } = movie;\n  // console.log(title, year, actors, String(imdbRating));\n\n  const [avgRating,setAvgRating] = useState(0);\n\n  function handleAdd() {\n    const newWatchedMovie = {\n      imdbID: selectedId,\n      title,\n      year,\n      poster,\n      imdbRating: Number(imdbRating),\n      runtime: Number(runtime.split(\" \").at(0)),\n      userRating,\n    };\n    onAddWatched(newWatchedMovie);\n    onCloseMovie();\n\n    // setAvgRating(Number(imdbRating));\n    // setAvgRating((avgRating)=>(avgRating + userRating) / 2);\n  }\n\n  \n  \n\n  // 检测按键\n  useEffect(function(){\n    const Escape = (e)=>{\n      if (e.code === 'Escape'){\n        onCloseMovie();\n        console.log('console');\n      }\n    }\n    document.addEventListener('keydown',Escape)\n    // function cleanUp\n    return function (){\n      document.removeEventListener('keydown',Escape)\n    }\n  },[onCloseMovie])\n\n  // 搜索输入框中的内容\n  useEffect(function () {\n    async function getMovieDetails() {\n      setIsLoading(true);\n      const res = await fetch(`https://www.omdbapi.com/?apikey=${KEY}&i=${selectedId}`)\n      const data = await res.json()\n      console.log(data);\n      setMovie(data);\n      setIsLoading(false);\n    };\n    getMovieDetails();\n  }, [selectedId])\n\n  // 将标题改成电影名字\n  useEffect(function(){\n    \n    if (!title) return ;\n    document.title = `Movie | ${title}`;\n    return function(){\n      document.title = \"usePopcorn\";\n    }\n  },[title])\n\n  return (\n    <>\n      <div className=\"details\">\n        {isLoading ? <Loader /> :\n          <>\n            <header className=\"header\">\n              <button\n                className=\"btn-back\"\n                onClick={() => onCloseMovie()}\n              >\n                &larr;\n              </button>\n              <img src={poster} alt={`Poster of ${movie} movie`}></img>\n\n              <div className=\"detail-overview\">\n                <h2>{title}</h2>\n                <p>\n                  {released} &bull; {runtime}\n                </p>\n                <p>{genre}</p>\n                <p>\n                  <span>🌟</span>\n                  {imdbRating}  IMDB rating\n                </p >\n              </div>\n            </header>\n            {/* <p>{avgRating}</p> */}\n            <section className=\"rating\">\n              <div className=\"rating\">\n\n                {\n                  !isWatched ?\n                    <>\n                      <StartRating\n                        maxRating={10}\n                        size={30}\n                        key={selectedId}\n                        onSetRating={setUserRating}\n                      />\n\n                      {userRating &&\n                        <button className=\"btn-add\" onClick={handleAdd}>\n                          Add to watched list\n                        </button>\n                      }\n                    </> :\n                    (\n                      <h2>you have watched this movie🥳,{watchedMovieRate ? `your rate is ${watchedMovieRate}` : \"you have not rating yet👈🏼\"}</h2>\n                    )\n                }\n              </div>\n\n              <p><em>{plot}</em></p>\n              <p>Starring {actors}</p>\n              <p>Directed by {director}</p>\n            </section>\n          </>\n        }\n        {/* {selectedId} */}\n      </div>\n\n    </>\n  );\n}\n\nfunction WatchedBox({ children }) {\n\n  const [isOpen2, setIsOpen2] = useState(true);\n\n  return (\n    <div className=\"box\">\n      <button\n        className=\"btn-toggle\"\n        onClick={() => setIsOpen2((open) => !open)}\n      >\n        {isOpen2 ? \"–\" : \"+\"}\n      </button>\n      {isOpen2 && (children)}\n    </div>\n  )\n}\n\nfunction WatchedSummary({ watched }) {\n\n  const avgImdbRating = average(watched.map((movie) => movie.imdbRating.value));\n  const avgUserRating = average(watched.map((movie) => movie.userRating));\n  const avgRuntime = average(watched.map((movie) => movie.runtime));\n  return (\n    <div className=\"summary\">\n      <h2>Movies you watched</h2>\n      <div>\n        <p>\n          <span>#️⃣</span>\n          <span>{watched.length} movies</span>\n        </p>\n        <p>\n          <span>⭐️</span>\n          <span>{avgImdbRating.toFixed(2)}</span>\n        </p>\n        <p>\n          <span>🌟</span>\n          <span>{avgUserRating.toFixed(2)}</span>\n        </p>\n        <p>\n          <span>⏳</span>\n          <span>{avgRuntime.toFixed(2)} min</span>\n        </p>\n      </div>\n    </div>\n  )\n}\n\nfunction WatchedMoviesList({ watched ,onDeleteWatched}) {\n  return (\n    <ul className=\"list\">\n      {watched.map((movie) => (\n        <WatchedMovie \n          movie={movie}\n          onDeleteWatched = {onDeleteWatched}\n        />\n      ))}\n    </ul>\n  )\n}\n\nfunction WatchedMovie({ movie,onDeleteWatched }) {\n  // console.log(Number(movie.imdbRating));\n  return (\n    <li key={movie.imdbID}>\n      <img src={movie.poster} alt={`${movie.title} poster`} />\n      <h3>{movie.title}</h3>\n      <div>\n        <p>\n          <span>⭐️</span>\n          <span>{movie.imdbRating}</span>\n        </p>\n        <p>\n          <span>🌟</span>\n          <span>{movie.userRating}</span>\n        </p>\n        <p>\n          <span>⏳</span>\n          <span>{movie.runtime} min</span>\n        </p>\n\n        <button \n          className=\"btn-delete\" \n          onClick={()=>onDeleteWatched(movie.imdbID)}\n        >X</button>\n      </div>\n    </li>\n  )\n}"],"mappings":";;;;;;AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC7D,OAAOC,WAAW,MAAM,kBAAkB;AAC1C;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAGA,MAAMC,OAAO,GAAIC,GAAG,IAClBA,GAAG,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,EAAEC,CAAC,EAAEJ,GAAG,KAAKE,GAAG,GAAGC,GAAG,GAAGH,GAAG,CAACK,MAAM,EAAE,CAAC,CAAC;;AAE7D;AACA,MAAMC,GAAG,GAAI,UAAS;AAEtB,eAAe,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EAC5B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACxC;EACA,MAAM,CAACkB,SAAS,EAAEC,YAAY,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACoB,KAAK,EAAEC,QAAQ,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACsB,KAAK,EAAEC,QAAQ,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACwB,UAAU,EAAEC,aAAa,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;;EAElD;EACA;EACA;EACA,MAAM,CAAC0B,OAAO,EAAEC,UAAU,CAAC,GAAG3B,QAAQ,CAAC,YAAU;IAC/C,MAAM4B,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IACnD,OAAOC,IAAI,CAACC,KAAK,CAACJ,WAAW,CAAC;EAChC,CAAC,CAAC;EAGF,SAASK,iBAAiBA,CAACC,EAAE,EAAE;IAC7BT,aAAa,CAAED,UAAU,IAAMU,EAAE,KAAKV,UAAU,GAAG,IAAI,GAAGU,EAAG,CAAC;EAChE;EAEA,SAASC,gBAAgBA,CAACD,EAAE,EAAE;IAC5BT,aAAa,CAAC,IAAI,CAAC;EACrB;EAEA,SAASW,cAAcA,CAACC,KAAK,EAAE;IAC7BV,UAAU,CAAED,OAAO,IAAK,CAAC,GAAGA,OAAO,EAAEW,KAAK,CAAC,CAAC;EAC9C;EAEA,SAASC,mBAAmBA,CAACJ,EAAE,EAAC;IAC9B;IACAP,UAAU,CAACD,OAAO,IAAEA,OAAO,CAACa,MAAM,CAACF,KAAK,IAAEA,KAAK,CAACG,MAAM,KAAKN,EAAE,CAAC,CAAC;EACjE;EACA;EACA;EACApC,SAAS,CAAC,YAAU;IAClB;IACA+B,YAAY,CAACY,OAAO,CAAC,SAAS,EAACV,IAAI,CAACW,SAAS,CAAChB,OAAO,CAAC,CAAC;EACzD,CAAC,EAAC,CAACA,OAAO,CAAC,CAAC;EAIZ5B,SAAS,CAAC,YAAY;IAEpB,MAAM6C,UAAU,GAAG,IAAIC,eAAe,CAAC,CAAC;IAExC,eAAeC,WAAWA,CAAA,EAAG;MAC3B;MACA,IAAI;QACF1B,YAAY,CAAC,IAAI,CAAC;QAClBE,QAAQ,CAAC,EAAE,CAAC;QACZ,MAAMyB,GAAG,GAAG,MAAMC,KAAK,CAAE,kCAAiClC,GAAI,MAAKS,KAAM,EAAC,EAAC;UAAC0B,MAAM,EAACL,UAAU,CAACK;QAAM,CAAC,CAAC;QAEtG,IAAI,CAACF,GAAG,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,yCAAyC,CAAC;QAEvE,MAAMC,IAAI,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,CAAC;QAC7B,IAAID,IAAI,CAACE,QAAQ,KAAK,OAAO,EAAE,MAAM,IAAIH,KAAK,CAAC,iBAAiB,CAAC;QAEjEjC,SAAS,CAACkC,IAAI,CAACG,MAAM,CAAC;QACtBjC,QAAQ,CAAC,EAAE,CAAC;MACd,CAAC,CAAC,OAAOkC,GAAG,EAAE;QAEZ,IAAGA,GAAG,CAACC,IAAI,KAAK,YAAY,EAAC;UAC3BC,OAAO,CAACrC,KAAK,CAACmC,GAAG,CAACG,OAAO,CAAC;UAC1BrC,QAAQ,CAACkC,GAAG,CAACG,OAAO,CAAC;QACvB;MACF,CAAC,SAAS;QACRvC,YAAY,CAAC,KAAK,CAAC;MACrB;IACF;IACA,IAAIG,KAAK,CAACV,MAAM,GAAG,CAAC,EAAE;MACpBK,SAAS,CAAC,EAAE,CAAC;MACbI,QAAQ,CAAC,EAAE,CAAC;MACZ;MACA;IACF;IACAc,gBAAgB,CAAC,CAAC;IAClBU,WAAW,CAAC,CAAC;IAEb,OAAO,YAAU;MACf;MACAF,UAAU,CAACgB,KAAK,CAAC,CAAC;IACpB,CAAC;IACH;EACA,CAAC,EAAE,EAAE,CAAC;;EAEN;;EAEA,SAASC,YAAYA,CAAA,EAAG;IAEtB,MAAMjB,UAAU,GAAG,IAAIC,eAAe,CAAC,CAAC;IAExC,eAAeC,WAAWA,CAAA,EAAG;MAC3B;MACA,IAAI;QACF1B,YAAY,CAAC,IAAI,CAAC;QAClBE,QAAQ,CAAC,EAAE,CAAC;QACZ,MAAMyB,GAAG,GAAG,MAAMC,KAAK,CAAE,kCAAiClC,GAAI,MAAKS,KAAM,EAAC,EAAC;UAAC0B,MAAM,EAACL,UAAU,CAACK;QAAM,CAAC,CAAC;QAEtG,IAAI,CAACF,GAAG,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,yCAAyC,CAAC;QAEvE,MAAMC,IAAI,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,CAAC;QAC7B,IAAID,IAAI,CAACE,QAAQ,KAAK,OAAO,EAAE,MAAM,IAAIH,KAAK,CAAC,iBAAiB,CAAC;QAEjEjC,SAAS,CAACkC,IAAI,CAACG,MAAM,CAAC;QACtBjC,QAAQ,CAAC,EAAE,CAAC;MACd,CAAC,CAAC,OAAOkC,GAAG,EAAE;QAEZ,IAAGA,GAAG,CAACC,IAAI,KAAK,YAAY,EAAC;UAC3BC,OAAO,CAACrC,KAAK,CAACmC,GAAG,CAACG,OAAO,CAAC;UAC1BrC,QAAQ,CAACkC,GAAG,CAACG,OAAO,CAAC;QACvB;MACF,CAAC,SAAS;QACRvC,YAAY,CAAC,KAAK,CAAC;MACrB;IACF;IACA,IAAIG,KAAK,CAACV,MAAM,GAAG,CAAC,EAAE;MACpBK,SAAS,CAAC,EAAE,CAAC;MACbI,QAAQ,CAAC,EAAE,CAAC;MACZ;MACA;IACF;IACAc,gBAAgB,CAAC,CAAC;IAClBU,WAAW,CAAC,CAAC;IAEb,OAAO,YAAU;MACf;MACAF,UAAU,CAACgB,KAAK,CAAC,CAAC;IACpB,CAAC;EACH;EAGA,oBACExD,OAAA,CAAAE,SAAA;IAAAwD,QAAA,gBACE1D,OAAA,CAAC2D,MAAM;MAAAD,QAAA,gBACL1D,OAAA,CAACmD,MAAM;QAAChC,KAAK,EAAEA,KAAM;QAACC,QAAQ,EAAEA,QAAS;QAACqC,YAAY,EAAEA,YAAa;QAACG,MAAM,EAAEzC;MAAM;QAAA0C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,eACtFhE,OAAA,CAACiE,UAAU;QAACpD,MAAM,EAAEA;MAAO;QAAAgD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxB,CAAC,eACThE,OAAA,CAACkE,IAAI;MAAAR,QAAA,gBACH1D,OAAA,CAACmE,GAAG;QAAAT,QAAA,GACD3C,SAAS,iBAAIf,OAAA,CAACoE,MAAM;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EACvB,CAACjD,SAAS,IAAI,CAACE,KAAK,iBAAIjB,OAAA,CAACqE,UAAU;UAACxD,MAAM,EAAEA,MAAO;UAACyD,aAAa,EAAExC;QAAkB;UAAA+B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EACxF/C,KAAK,iBAAIjB,OAAA,CAAC+C,KAAK;UAACQ,OAAO,EAAEtC;QAAM;UAAA4C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEhC,CAAC,eACNhE,OAAA,CAACmE,GAAG;QAAAT,QAAA,EACDrC,UAAU,gBACTrB,OAAA,CAACuE,YAAY;UACXlD,UAAU,EAAEA,UAAW;UACvBmD,YAAY,EAAExC,gBAAiB;UAC/ByC,YAAY,EAAExC,cAAe;UAC7BV,OAAO,EAAEA;QAAQ;UAAAsC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClB,CAAC,gBAEFhE,OAAA,CAAAE,SAAA;UAAAwD,QAAA,gBACE1D,OAAA,CAAC0E,cAAc;YAACnD,OAAO,EAAEA;UAAQ;YAAAsC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACpChE,OAAA,CAAC2E,iBAAiB;YAChBpD,OAAO,EAAEA,OAAQ;YACjBqD,eAAe,EAAIzC;UAAoB;YAAA0B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxC,CAAC;QAAA,eACF;MACH;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA,eACP,CAAC;AAEP;;AAEA;AAAApD,EAAA,CAxKwBD,GAAG;AAAAkE,EAAA,GAAHlE,GAAG;AA0K3B,SAASyD,MAAMA,CAAA,EAAG;EAChB,oBAAOpE,OAAA;IAAG8E,SAAS,EAAC,QAAQ;IAAApB,QAAA,EAAC;EAAU;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;AAC7C;AAACe,GAAA,GAFQX,MAAM;AAIf,SAASrB,KAAKA,CAAC;EAAEQ;AAAQ,CAAC,EAAE;EAC1B,oBAAOvD,OAAA;IAAG8E,SAAS,EAAC,OAAO;IAAApB,QAAA,gBAAC1D,OAAA;MAAA0D,QAAA,EAAM;IAAE;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,EAACT,OAAO;EAAA;IAAAM,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC;AAC1D;;AAEA;AAAAgB,GAAA,GAJSjC,KAAK;AAKd,SAASY,MAAMA,CAAC;EAAED;AAAS,CAAC,EAAE;EAE5B,oBAAO1D,OAAA;IAAK8E,SAAS,EAAC,SAAS;IAAApB,QAAA,gBAC7B1D,OAAA,CAACiF,IAAI;MAAApB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EACPN,QAAQ;EAAA;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AACR;AAACkB,GAAA,GANQvB,MAAM;AAQf,SAASR,MAAMA,CAAC;EAAEhC,KAAK;EAAEC,QAAQ;EAACqC,YAAY;EAACG;AAAO,CAAC,EAAE;EAAAuB,GAAA;EAEvD,MAAMC,OAAO,GAAIxF,MAAM,CAAC,IAAI,CAAC;EAE7BD,SAAS,CAAC,YAAU;IAClB;IACAyF,OAAO,CAACC,OAAO,CAACC,KAAK,CAAC,CAAC;EACzB,CAAC,EAAC,EAAE,CAAC;EAEL3F,SAAS,CAAC,YAAU;IAClB,MAAM4F,QAAQ,GAAIC,CAAC,IAAK;MAEtB;MACE;;MAEF,IAAIA,CAAC,CAACC,IAAI,KAAK,OAAO,EAAC;QACrBL,OAAO,CAACC,OAAO,CAACC,KAAK,CAAC,CAAC;QACvB7B,YAAY,CAACG,MAAM,CAAC;QACpBxC,QAAQ,CAAC,EAAE,CAAC;QACZkC,OAAO,CAACoC,GAAG,CAAC,OAAO,CAAC;MACtB;IACF,CAAC;IACDC,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAACL,QAAQ,CAAC;EAC/C,CAAC,EAAC,CAACnE,QAAQ,CAAC,CAAC;EAEb,oBACEpB,OAAA;IACE8E,SAAS,EAAC,QAAQ;IAClBe,IAAI,EAAC,MAAM;IACXC,WAAW,EAAC,kBAAkB;IAC9BC,KAAK,EAAE5E,KAAM;IACb6E,QAAQ,EAAGR,CAAC,IAAKpE,QAAQ,CAACoE,CAAC,CAACS,MAAM,CAACF,KAAK,CAAE;IAC1CG,GAAG,EAAEd;EAAQ;IAAAvB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACd,CAAC;AAEN;AAACmB,GAAA,CAnCQhC,MAAM;AAAAgD,GAAA,GAANhD,MAAM;AAqCf,SAAS8B,IAAIA,CAAA,EAAG;EACd,oBACEjF,OAAA;IAAK8E,SAAS,EAAC,MAAM;IAAApB,QAAA,gBACnB1D,OAAA;MAAMoG,IAAI,EAAC,KAAK;MAAA1C,QAAA,EAAC;IAAE;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAC1BhE,OAAA;MAAA0D,QAAA,EAAI;IAAU;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAChB,CAAC;AAEV;AAACqC,GAAA,GAPQpB,IAAI;AASb,SAAShB,UAAUA,CAAC;EAAEpD;AAAO,CAAC,EAAE;EAC9B,oBACEb,OAAA;IAAG8E,SAAS,EAAC,aAAa;IAAApB,QAAA,GAAC,QACnB,eAAA1D,OAAA;MAAA0D,QAAA,EAAS7C,MAAM,CAACJ;IAAM;MAAAoD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAS,CAAC,YACtC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAER;;AAEA;;AAEA;AAAAsC,GAAA,GAXSrC,UAAU;AAYnB,SAASC,IAAIA,CAAC;EAAER;AAAS,CAAC,EAAE;EAC1B,oBACE1D,OAAA;IAAM8E,SAAS,EAAC,MAAM;IAAApB,QAAA,EAAEA;EAAQ;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAO,CAAC;AAE5C;AAACuC,GAAA,GAJQrC,IAAI;AAMb,SAASC,GAAGA,CAAC;EAAET;AAAS,CAAC,EAAE;EAAA8C,GAAA;EAEzB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAG7G,QAAQ,CAAC,IAAI,CAAC;EAE1C,oBACEG,OAAA;IAAK8E,SAAS,EAAC,KAAK;IAAApB,QAAA,gBAClB1D,OAAA;MACE8E,SAAS,EAAC,YAAY;MACtB6B,OAAO,EAAEA,CAAA,KAAMD,SAAS,CAAEE,IAAI,IAAK,CAACA,IAAI,CAAE;MAAAlD,QAAA,EAEzC+C,MAAM,GAAG,GAAG,GAAG;IAAG;MAAA5C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACb,CAAC,EACRyC,MAAM,IAAK/C,QAAS;EAAA;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAClB,CAAC;AAEV;;AAEA;AAAAwC,GAAA,CAjBSrC,GAAG;AAAA0C,GAAA,GAAH1C,GAAG;AAmBZ,SAASE,UAAUA,CAAC;EAAExD,MAAM;EAAEyD;AAAc,CAAC,EAAE;EAE7C,oBACEtE,OAAA;IAAI8E,SAAS,EAAC,kBAAkB;IAAApB,QAAA,EAC7B7C,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEiG,GAAG,CAAE5E,KAAK,iBACjBlC,OAAA,CAAC+G,KAAK;MAAC7E,KAAK,EAAEA,KAAM;MAAoBoC,aAAa,EAAEA;IAAc,GAA3CpC,KAAK,CAACG,MAAM;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAiC,CACxE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAET;AAACgD,IAAA,GATQ3C,UAAU;AAWnB,SAAS0C,KAAKA,CAAC;EAAE7E,KAAK;EAAEoC,aAAa;EAAEE;AAAa,CAAC,EAAE;EACrD,oBACExE,OAAA;IAAI2G,OAAO,EAAEA,CAAA,KAAMrC,aAAa,CAACpC,KAAK,CAACG,MAAM,CAAE;IAAAqB,QAAA,gBAC7C1D,OAAA;MAAKiH,GAAG,EAAE/E,KAAK,CAACgF,MAAO;MAACC,GAAG,EAAG,GAAEjF,KAAK,CAACkF,KAAM;IAAS;MAAAvD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACxDhE,OAAA;MAAA0D,QAAA,EAAKxB,KAAK,CAACkF;IAAK;MAAAvD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACtBhE,OAAA;MAAA0D,QAAA,eACE1D,OAAA;QAAA0D,QAAA,gBACE1D,OAAA;UAAA0D,QAAA,EAAM;QAAE;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACfhE,OAAA;UAAA0D,QAAA,EAAOxB,KAAK,CAACmF;QAAI;UAAAxD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxB;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAET;AAACsD,IAAA,GAbQP,KAAK;AAed,SAASxC,YAAYA,CAAC;EAAElD,UAAU;EAAEmD,YAAY;EAAEC,YAAY;EAAElD;AAAQ,CAAC,EAAE;EAAAgG,GAAA;EAAA,IAAAC,aAAA;EACzE,MAAM,CAACtF,KAAK,EAAEuF,QAAQ,CAAC,GAAG5H,QAAQ,CAAC,CAAC,CAAC,CAAC;EACtC,MAAM,CAACkB,SAAS,EAAEC,YAAY,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC6H,UAAU,EAAEC,aAAa,CAAC,GAAG9H,QAAQ,CAAC,IAAI,CAAC;EAElD,MAAM+H,SAAS,GAAGrG,OAAO,CAACuF,GAAG,CAAC5E,KAAK,IAAIA,KAAK,CAACG,MAAM,CAAC,CAACwF,QAAQ,CAACxG,UAAU,CAAC;EACzE,MAAMyG,gBAAgB,IAAAN,aAAA,GAAGjG,OAAO,CAACwG,IAAI,CAAE7F,KAAK,IAAKA,KAAK,CAACG,MAAM,KAAKhB,UAAU,CAAC,cAAAmG,aAAA,uBAApDA,aAAA,CAAsDE,UAAU;EACzFpE,OAAO,CAACoC,GAAG,CAAE,OAAMkC,SAAU,EAAC,CAAC;EAC/B;;EAEA,MAAM;IACJR,KAAK,EAAEY,KAAK;IACZX,IAAI,EAAEY,IAAI;IACVf,MAAM,EAAEgB,MAAM;IACdC,OAAO,EAAEC,OAAO;IAChBC,MAAM,EAAEC,MAAM;IACdC,QAAQ,EAAEC,QAAQ;IAClBC,KAAK,EAAEC,KAAK;IACZC,QAAQ,EAAEC,QAAQ;IAClBC,UAAU,EAAEA,UAAU;IACtBC,IAAI,EAAEC;EACR,CAAC,GAAG7G,KAAK;EACT;;EAEA,MAAM,CAAC8G,SAAS,EAACC,YAAY,CAAC,GAAGpJ,QAAQ,CAAC,CAAC,CAAC;EAE5C,SAASqJ,SAASA,CAAA,EAAG;IACnB,MAAMC,eAAe,GAAG;MACtB9G,MAAM,EAAEhB,UAAU;MAClB2G,KAAK;MACLC,IAAI;MACJC,MAAM;MACNW,UAAU,EAAEO,MAAM,CAACP,UAAU,CAAC;MAC9BT,OAAO,EAAEgB,MAAM,CAAChB,OAAO,CAACiB,KAAK,CAAC,GAAG,CAAC,CAACC,EAAE,CAAC,CAAC,CAAC,CAAC;MACzC5B;IACF,CAAC;IACDjD,YAAY,CAAC0E,eAAe,CAAC;IAC7B3E,YAAY,CAAC,CAAC;;IAEd;IACA;EACF;;EAKA;EACA7E,SAAS,CAAC,YAAU;IAClB,MAAM4J,MAAM,GAAI/D,CAAC,IAAG;MAClB,IAAIA,CAAC,CAACC,IAAI,KAAK,QAAQ,EAAC;QACtBjB,YAAY,CAAC,CAAC;QACdlB,OAAO,CAACoC,GAAG,CAAC,SAAS,CAAC;MACxB;IACF,CAAC;IACDC,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAC2D,MAAM,CAAC;IAC3C;IACA,OAAO,YAAW;MAChB5D,QAAQ,CAAC6D,mBAAmB,CAAC,SAAS,EAACD,MAAM,CAAC;IAChD,CAAC;EACH,CAAC,EAAC,CAAC/E,YAAY,CAAC,CAAC;;EAEjB;EACA7E,SAAS,CAAC,YAAY;IACpB,eAAe8J,eAAeA,CAAA,EAAG;MAC/BzI,YAAY,CAAC,IAAI,CAAC;MAClB,MAAM2B,GAAG,GAAG,MAAMC,KAAK,CAAE,mCAAkClC,GAAI,MAAKW,UAAW,EAAC,CAAC;MACjF,MAAM2B,IAAI,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,CAAC;MAC7BK,OAAO,CAACoC,GAAG,CAAC1C,IAAI,CAAC;MACjByE,QAAQ,CAACzE,IAAI,CAAC;MACdhC,YAAY,CAAC,KAAK,CAAC;IACrB;IAAC;IACDyI,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,CAACpI,UAAU,CAAC,CAAC;;EAEhB;EACA1B,SAAS,CAAC,YAAU;IAElB,IAAI,CAACqI,KAAK,EAAE;IACZrC,QAAQ,CAACqC,KAAK,GAAI,WAAUA,KAAM,EAAC;IACnC,OAAO,YAAU;MACfrC,QAAQ,CAACqC,KAAK,GAAG,YAAY;IAC/B,CAAC;EACH,CAAC,EAAC,CAACA,KAAK,CAAC,CAAC;EAEV,oBACEhI,OAAA,CAAAE,SAAA;IAAAwD,QAAA,eACE1D,OAAA;MAAK8E,SAAS,EAAC,SAAS;MAAApB,QAAA,EACrB3C,SAAS,gBAAGf,OAAA,CAACoE,MAAM;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,gBACrBhE,OAAA,CAAAE,SAAA;QAAAwD,QAAA,gBACE1D,OAAA;UAAQ8E,SAAS,EAAC,QAAQ;UAAApB,QAAA,gBACxB1D,OAAA;YACE8E,SAAS,EAAC,UAAU;YACpB6B,OAAO,EAAEA,CAAA,KAAMnC,YAAY,CAAC,CAAE;YAAAd,QAAA,EAC/B;UAED;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACThE,OAAA;YAAKiH,GAAG,EAAEiB,MAAO;YAACf,GAAG,EAAG,aAAYjF,KAAM;UAAQ;YAAA2B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAEzDhE,OAAA;YAAK8E,SAAS,EAAC,iBAAiB;YAAApB,QAAA,gBAC9B1D,OAAA;cAAA0D,QAAA,EAAKsE;YAAK;cAAAnE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eAChBhE,OAAA;cAAA0D,QAAA,GACGkF,QAAQ,EAAC,UAAQ,EAACR,OAAO;YAAA;cAAAvE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzB,CAAC,eACJhE,OAAA;cAAA0D,QAAA,EAAIgF;YAAK;cAAA7E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACdhE,OAAA;cAAA0D,QAAA,gBACE1D,OAAA;gBAAA0D,QAAA,EAAM;cAAE;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,EACd6E,UAAU,EAAC,eACd;YAAA;cAAAhF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC,eAEThE,OAAA;UAAS8E,SAAS,EAAC,QAAQ;UAAApB,QAAA,gBACzB1D,OAAA;YAAK8E,SAAS,EAAC,QAAQ;YAAApB,QAAA,EAGnB,CAACkE,SAAS,gBACR5H,OAAA,CAAAE,SAAA;cAAAwD,QAAA,gBACE1D,OAAA,CAACF,WAAW;gBACV4J,SAAS,EAAE,EAAG;gBACdC,IAAI,EAAE,EAAG;gBAETC,WAAW,EAAEjC;cAAc,GADtBtG,UAAU;gBAAAwC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAEhB,CAAC,EAED0D,UAAU,iBACT1H,OAAA;gBAAQ8E,SAAS,EAAC,SAAS;gBAAC6B,OAAO,EAAEuC,SAAU;gBAAAxF,QAAA,EAAC;cAEhD;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA,eAEX,CAAC,gBAEDhE,OAAA;cAAA0D,QAAA,GAAI,0CAA8B,EAACoE,gBAAgB,GAAI,gBAAeA,gBAAiB,EAAC,GAAG,6BAA6B;YAAA;cAAAjE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK;UAC9H;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEF,CAAC,eAENhE,OAAA;YAAA0D,QAAA,eAAG1D,OAAA;cAAA0D,QAAA,EAAKqF;YAAI;cAAAlF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACtBhE,OAAA;YAAA0D,QAAA,GAAG,WAAS,EAAC4E,MAAM;UAAA;YAAAzE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACxBhE,OAAA;YAAA0D,QAAA,GAAG,cAAY,EAAC8E,QAAQ;UAAA;YAAA3E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtB,CAAC;MAAA,eACV;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAGF;EAAC,gBAEN,CAAC;AAEP;AAACuD,GAAA,CAnJQhD,YAAY;AAAAsF,IAAA,GAAZtF,YAAY;AAqJrB,SAASuF,UAAUA,CAAC;EAAEpG;AAAS,CAAC,EAAE;EAAAqG,GAAA;EAEhC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGpK,QAAQ,CAAC,IAAI,CAAC;EAE5C,oBACEG,OAAA;IAAK8E,SAAS,EAAC,KAAK;IAAApB,QAAA,gBAClB1D,OAAA;MACE8E,SAAS,EAAC,YAAY;MACtB6B,OAAO,EAAEA,CAAA,KAAMsD,UAAU,CAAErD,IAAI,IAAK,CAACA,IAAI,CAAE;MAAAlD,QAAA,EAE1CsG,OAAO,GAAG,GAAG,GAAG;IAAG;MAAAnG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACd,CAAC,EACRgG,OAAO,IAAKtG,QAAS;EAAA;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACnB,CAAC;AAEV;AAAC+F,GAAA,CAfQD,UAAU;AAAAI,IAAA,GAAVJ,UAAU;AAiBnB,SAASpF,cAAcA,CAAC;EAAEnD;AAAQ,CAAC,EAAE;EAEnC,MAAM4I,aAAa,GAAGhK,OAAO,CAACoB,OAAO,CAACuF,GAAG,CAAE5E,KAAK,IAAKA,KAAK,CAAC2G,UAAU,CAAC9C,KAAK,CAAC,CAAC;EAC7E,MAAMqE,aAAa,GAAGjK,OAAO,CAACoB,OAAO,CAACuF,GAAG,CAAE5E,KAAK,IAAKA,KAAK,CAACwF,UAAU,CAAC,CAAC;EACvE,MAAM2C,UAAU,GAAGlK,OAAO,CAACoB,OAAO,CAACuF,GAAG,CAAE5E,KAAK,IAAKA,KAAK,CAACkG,OAAO,CAAC,CAAC;EACjE,oBACEpI,OAAA;IAAK8E,SAAS,EAAC,SAAS;IAAApB,QAAA,gBACtB1D,OAAA;MAAA0D,QAAA,EAAI;IAAkB;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC3BhE,OAAA;MAAA0D,QAAA,gBACE1D,OAAA;QAAA0D,QAAA,gBACE1D,OAAA;UAAA0D,QAAA,EAAM;QAAG;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAChBhE,OAAA;UAAA0D,QAAA,GAAOnC,OAAO,CAACd,MAAM,EAAC,SAAO;QAAA;UAAAoD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC,CAAC,eACJhE,OAAA;QAAA0D,QAAA,gBACE1D,OAAA;UAAA0D,QAAA,EAAM;QAAE;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACfhE,OAAA;UAAA0D,QAAA,EAAOyG,aAAa,CAACG,OAAO,CAAC,CAAC;QAAC;UAAAzG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CAAC,eACJhE,OAAA;QAAA0D,QAAA,gBACE1D,OAAA;UAAA0D,QAAA,EAAM;QAAE;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACfhE,OAAA;UAAA0D,QAAA,EAAO0G,aAAa,CAACE,OAAO,CAAC,CAAC;QAAC;UAAAzG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtC,CAAC,eACJhE,OAAA;QAAA0D,QAAA,gBACE1D,OAAA;UAAA0D,QAAA,EAAM;QAAC;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACdhE,OAAA;UAAA0D,QAAA,GAAO2G,UAAU,CAACC,OAAO,CAAC,CAAC,CAAC,EAAC,MAAI;QAAA;UAAAzG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACuG,IAAA,GA5BQ7F,cAAc;AA8BvB,SAASC,iBAAiBA,CAAC;EAAEpD,OAAO;EAAEqD;AAAe,CAAC,EAAE;EACtD,oBACE5E,OAAA;IAAI8E,SAAS,EAAC,MAAM;IAAApB,QAAA,EACjBnC,OAAO,CAACuF,GAAG,CAAE5E,KAAK,iBACjBlC,OAAA,CAACwK,YAAY;MACXtI,KAAK,EAAEA,KAAM;MACb0C,eAAe,EAAIA;IAAgB;MAAAf,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CACF;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAET;AAACyG,IAAA,GAXQ9F,iBAAiB;AAa1B,SAAS6F,YAAYA,CAAC;EAAEtI,KAAK;EAAC0C;AAAgB,CAAC,EAAE;EAC/C;EACA,oBACE5E,OAAA;IAAA0D,QAAA,gBACE1D,OAAA;MAAKiH,GAAG,EAAE/E,KAAK,CAACgG,MAAO;MAACf,GAAG,EAAG,GAAEjF,KAAK,CAAC8F,KAAM;IAAS;MAAAnE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACxDhE,OAAA;MAAA0D,QAAA,EAAKxB,KAAK,CAAC8F;IAAK;MAAAnE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACtBhE,OAAA;MAAA0D,QAAA,gBACE1D,OAAA;QAAA0D,QAAA,gBACE1D,OAAA;UAAA0D,QAAA,EAAM;QAAE;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACfhE,OAAA;UAAA0D,QAAA,EAAOxB,KAAK,CAAC2G;QAAU;UAAAhF,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9B,CAAC,eACJhE,OAAA;QAAA0D,QAAA,gBACE1D,OAAA;UAAA0D,QAAA,EAAM;QAAE;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACfhE,OAAA;UAAA0D,QAAA,EAAOxB,KAAK,CAACwF;QAAU;UAAA7D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9B,CAAC,eACJhE,OAAA;QAAA0D,QAAA,gBACE1D,OAAA;UAAA0D,QAAA,EAAM;QAAC;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACdhE,OAAA;UAAA0D,QAAA,GAAOxB,KAAK,CAACkG,OAAO,EAAC,MAAI;QAAA;UAAAvE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/B,CAAC,eAEJhE,OAAA;QACE8E,SAAS,EAAC,YAAY;QACtB6B,OAAO,EAAEA,CAAA,KAAI/B,eAAe,CAAC1C,KAAK,CAACG,MAAM,CAAE;QAAAqB,QAAA,EAC5C;MAAC;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC;EAAA,GArBC9B,KAAK,CAACG,MAAM;IAAAwB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAsBjB,CAAC;AAET;AAAC0G,IAAA,GA3BQF,YAAY;AAAA,IAAA3F,EAAA,EAAAE,GAAA,EAAAC,GAAA,EAAAE,GAAA,EAAAiB,GAAA,EAAAE,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAM,GAAA,EAAAG,IAAA,EAAAM,IAAA,EAAAuC,IAAA,EAAAK,IAAA,EAAAK,IAAA,EAAAE,IAAA,EAAAC,IAAA;AAAAC,YAAA,CAAA9F,EAAA;AAAA8F,YAAA,CAAA5F,GAAA;AAAA4F,YAAA,CAAA3F,GAAA;AAAA2F,YAAA,CAAAzF,GAAA;AAAAyF,YAAA,CAAAxE,GAAA;AAAAwE,YAAA,CAAAtE,GAAA;AAAAsE,YAAA,CAAArE,GAAA;AAAAqE,YAAA,CAAApE,GAAA;AAAAoE,YAAA,CAAA9D,GAAA;AAAA8D,YAAA,CAAA3D,IAAA;AAAA2D,YAAA,CAAArD,IAAA;AAAAqD,YAAA,CAAAd,IAAA;AAAAc,YAAA,CAAAT,IAAA;AAAAS,YAAA,CAAAJ,IAAA;AAAAI,YAAA,CAAAF,IAAA;AAAAE,YAAA,CAAAD,IAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}